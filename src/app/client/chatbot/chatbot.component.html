@if (isShow) {
  <section class="chatbox-panel">
    <header class="chatbox-panel__header">
      <aside style="flex:3">
        <img ngSrc="/assets/images/avatar_chatbot.jpg"
             alt="Toeicute AI" class="rounded-circle"
             width="48"
             (click)="toggleChatbot()"
             height="48">
      </aside>
      <aside style="flex:6">
        <h1>TOEICUTE</h1> Chatbot (Online)
      </aside>
      <aside style="flex:3;text-align:right;">
        <button class="chatbox-panel-close" (click)="toggleChatbot()"><i class="fa fa-close" aria-hidden="true"></i>
        </button>
      </aside>
    </header>
    <main class="chatbox-panel__main" style="flex:1">
      <div class="d-flex btn-group btn-group-justified bg-secondary mb-2">
        <button class="btn btn-secondary border-right mr-2" [ngClass]="{'active': isChatbot}" (click)="toggleChatbot()">
          Chatbot
        </button>
        <button class="btn btn-secondary" [ngClass]="{'active': !isChatbot}" (click)="toggleChatbot()">Dịch thuật
        </button>
      </div>
      @if (showText) {
        Toeicute sẽ giúp bạn giải đáp thắc mắc. <br/> Hãy nhập câu hỏi của bạn vào đây.
      }
      <div class="container overflow-auto" style="max-height: 300px;">
        @for (entry of chatEntries; track entry) {
          <div class="d-flex flex-row-reverse">
            <span class="mb-2 text-end px-2 bg-light rounded py-1 text-white justify-content-end">{{ entry.question }}</span>
          </div>
          <div class="d-flex">
            <span class="mb-2 text-start px-2 bg-light rounded py-1 text-white text-wrap">{{ entry.answer }}</span>
          </div>
        }
      </div>
    </main>
    <footer class="chatbox-panel__footer">
      <aside style="flex:10">
        <textarea type="text" placeholder="Nhập câu hỏi của bạn vào đây..."
                  class="form-control text-start align-middle pt-1" id="exampleFormControlTextSarea1" rows="2"
                  (keydown.enter)="postQuestion()"
                  autofocus [(ngModel)]="params.question"></textarea>
      </aside>
      <aside style="flex:1;color:#888;" class="text-center" (click)="postQuestion()">
        <i class="fa fa-paper-plane" aria-hidden="true"></i>
      </aside>
    </footer>
  </section>
} @else {
  <div class="fixed-bottom-custom w-100 d-flex flex-row-reverse" title="Chat bot & Dịch thuật">
    <img ngSrc="/assets/images/chatbot.png"
         alt="chatbot" class="rounded-circle shadow"
         id="chatbot"
         width="60"
         (click)="toggleChatbot()"
         height="60">
  </div>
}

